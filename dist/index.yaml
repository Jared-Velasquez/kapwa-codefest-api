openapi: 3.0.0
info:
  version: 0.1.0
  title: Kapwa Codefest Website API
  description: API for the Kapwa Codefest website

paths:
  /users/{user_id}:
    $ref: 'paths/User.yaml'
  /users/register:
    $ref: 'paths/Register.yaml'

components:
  schemas:
    User:
      $ref: 'schemas/User.yaml'
    PatchUser:
      $ref: 'schemas/PatchUser.yaml'
    Info:
      $ref: 'schemas/Info.yaml'
    Error:
      $ref: 'schemas/Error.yaml'
  securitySchemes:
    CognitoOAuth:
      type: oauth2
      flows:
        authorizationCode: 
          authorizationUrl: https://kapwa-codefest.auth.us-west-1.amazoncognito.com/login?client_id=35l46r028b1qtg145u1ai7olej&response_type=code&scope=email+openid+profile&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fcallback
          tokenUrl: https://kapwa-codefest.auth.us-west-1.amazoncognito.com/oauth2/token
          scopes:
            email: "Access user's email address"
            openid: "Access user's OpenID Connect information"
            profile: "Access user's profile information"

security:
  - CognitoOAuth:
    - email
    - openid
    - profile