openapi: 3.0.0
info:
  version: 0.1.0
  title: Kapwa Codefest Website API
  description: API for the Kapwa Codefest website

paths:
  /users/{user_id}:
    $ref: 'paths/User.yaml'
  /users/register:
    $ref: 'paths/Register.yaml'

components:
  schemas:
    User:
      $ref: 'schemas/User.yaml'
    PatchUser:
      $ref: 'schemas/PatchUser.yaml'
    Info:
      $ref: 'schemas/Info.yaml'
    Error:
      $ref: 'schemas/Error.yaml'
  securitySchemes:
    CognitoOAuth:
      type: oauth2
      flows:
        authorizationCode: https://kapwa-codefest.auth.us-west-1.amazoncognito.com/login
        tokenUrl: https://kapwa-codefest.auth.us-west-1.amazoncognito.com/oauth2/token
        scopes:
          email: "Access user's email address"
          openid: "Access user's OpenID Connect information"
          profile: "Access user's profile information"

security:
  - CognitoOAuth:
    - email
    - openid
    - profile